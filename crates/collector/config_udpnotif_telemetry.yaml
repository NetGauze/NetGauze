
runtime:
  threads: 4

logging:
  level: info

telemetry:
  url: http://localhost:4317/v1/metrics
  id: netgauze-udpnotif-telemetry
  exporter_timeout: 3000
  reader_interval: 60000
  reader_timeout: 3000

udp_notif:
  subscriber_timeout: 100
  listeners:
    - address: "[::]:10000"
      workers: 2

  cache_location: /tmp/netgauze-udpnotif-telemetry-cache

  netconf:
    username: someusername
    private_key_path: /paht/to/private-key
    port: 830

  publishers:
    group1:
      buffer_size: 1000
      enrichment:
        inputs:
          files:
            poll_interval_seconds: 10
            paths:
              - path: assets/inputs/files/yang-push-upserts.jsonl
                format: !YangPushUpserts
          kafka:
            consumers:
              - topic: sonata
                message_format: !Sonata
                weight: 64 # default: 64
                consumer_config:
                  bootstrap.servers: localhost:49092
                  group.id: taarole8-rocky8-avro
                  enable.auto.commit: "false"
                  auto.offset.reset: earliest
      custom_yang_schemas:
#        "::/0":
#          content_id: ietf-telemetry-message-FANO-19-SUB-53
#          yang_library_path: assets/yang/ietf-telemetry-message-FANO-19-SUB-53/extended-schemas/yanglib.xml
#          dir: assets/yang/ietf-telemetry-message-FANO-19-SUB-53/extended-schemas
      endpoints:
        # json-endpoint: !TelemetryKafkaJson
        #   topic: telemetry-message-json
        #   producer_config:
        #     bootstrap.servers: localhost:49092
        #     message.timeout.ms: "60000"
        #     queue.buffering.max.messages: "1000"
        #   writer_id: coll-netgauze-telemetry-json
        yang-endpoint: !TelemetryKafkaYang
          topic: telemetry-message-yang
          schema_registry_url: http://localhost:48081
          producer_config:
            bootstrap.servers: localhost:49092
            message.timeout.ms: "60000"
            queue.buffering.max.messages: "1000"
          writer_id: coll-netgauze-telemetry-yang
          yang_converter:
            subject_prefix: daisy.dev
            root_schema_name: ietf-telemetry-message
            default_yang_lib_ref:
              content_id: ietf-telemetry-message-full
              yang_library_path: assets/yang/ietf-telemetry-message/yang-lib-full.xml
              yang_lib_ref_path: assets/yang/ietf-telemetry-message/
            extension_yang_lib_ref:
              content_id: ietf-telemetry-message-min
              yang_library_path: assets/yang/ietf-telemetry-message/yang-lib-min.xml
              yang_lib_ref_path: assets/yang/ietf-telemetry-message
